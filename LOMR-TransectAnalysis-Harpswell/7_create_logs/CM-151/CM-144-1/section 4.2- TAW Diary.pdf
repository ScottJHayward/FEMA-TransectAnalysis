%PDF-1.1
1 0 obj
<<
/CreationDate (D:20200226134329)
/Producer (text2pdf v1.1 (\251 Phil Smith, 1996))
/Title (../4_taw/logfiles/CM-144-1-DIARY.txt)
>>
endobj
2 0 obj
<<
/Type /Catalog
/Pages 3 0 R
>>
endobj
4 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F1
/BaseFont /Courier
>>
endobj
5 0 obj
<<
  /Font << /F1 4 0 R >>
  /ProcSet [ /PDF /Text ]
>>
endobj
6 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 7 0 R
>>
endobj
7 0 obj
<<
/Length 8 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(diary on         % begin recording)'
()'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
()'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
()'
(gamma_berm=1;   % this may get changed automatically below)'
(gamma_rough=1;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
()'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
()'
(plotTitle='Iterative TAW for CM-144-1')'
()'
(plotTitle =)'
()'
(Iterative TAW for CM-144-1)'
()'
()'
()'
(% END CONFIG)'
(%-------------------------------)'
()'
(SWEL=SWEL+setupAtToe  )'
()'
(SWEL =)'
()'
(                  8.736223)'
()'
(SWEL_fore=SWEL+maxSetup)'
()'
(SWEL_fore =)'
()'
(                 10.255623)'
()'
()'
()'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
()'
(L0 =)'
()'
(          417.357062285715)'
()'
()'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
()'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
ET
endstream
endobj
8 0 obj
2922
endobj
9 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 10 0 R
>>
endobj
10 0 obj
<<
/Length 11 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
()'
(Ztoe =)'
()'
(                 -2.595977)'
()'
()'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
()'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
()'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
()'
()'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
()'
(Z2 =)'
()'
(                 20.068423)'
()'
()'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
()'
(toe_sta =)'
()'
(         -62.4868075374234)'
()'
()'
(toe_sta =)'
()'
(         -38.3813446313046)'
()'
()'
(top_sta =)'
()'
(          34.9443976794092)'
()'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
()'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
()'
(top_sta =)'
()'
(          34.9443976794092)'
()'
(toe_sta)'
()'
(toe_sta =)'
()'
(         -38.3813446313046)'
()'
()'
()'
()'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
ET
endstream
endobj
11 0 obj
2330
endobj
12 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 13 0 R
>>
endobj
13 0 obj
<<
/Length 14 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
()'
(ans =)'
()'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
()'
()'
(ans =)'
()'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
()'
()'
(ans =)'
()'
(-!!-       setup is adjusted to 0.45 feet)'
()'
()'
(ans =)'
()'
(-!!-       SWEL is adjusted to 9.26 feet)'
()'
()'
(k =)'
()'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
()'
()'
()'
()'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
ET
endstream
endobj
14 0 obj
2481
endobj
15 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 16 0 R
>>
endobj
16 0 obj
<<
/Length 17 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
()'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
()'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
ET
endstream
endobj
17 0 obj
3502
endobj
18 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 19 0 R
>>
endobj
19 0 obj
<<
/Length 20 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
()'
()'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
ET
endstream
endobj
20 0 obj
2954
endobj
21 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 22 0 R
>>
endobj
22 0 obj
<<
/Length 23 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.977861924974634)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.4035594084022)'
(R2del =)'
(         0.739159408402184)'
(Z2 =)'
(           32.659493910529)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          112.060463877013)'
(Z2 =)'
ET
endstream
endobj
23 0 obj
2326
endobj
24 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 25 0 R
>>
endobj
25 0 obj
<<
/Length 26 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(           32.659493910529)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          23.4035594084022)'
(Z2 =)'
(           32.659493910529)'
(top_sta =)'
(          112.060463877013)'
(Lslope =)'
(          150.441808508318)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.113000502776195)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.978600551028116)'
(slope =)'
(         0.264201087385079)'
(Irb =)'
(          1.96370840192932)'
(gamma_berm =)'
(         0.978600551028116)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.978600551028116)'
(ans =)'
(!!! - - Iribaren number:   1.92 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
ET
endstream
endobj
26 0 obj
2225
endobj
27 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 28 0 R
>>
endobj
28 0 obj
<<
/Length 29 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(!!! - - slope: 1:3.8 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.3491540099791)'
(R2del =)'
(        0.0544053984230999)'
(Z2 =)'
(          32.6050885121059)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          111.691012577114)'
(Z2 =)'
(          32.6050885121059)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          23.3491540099791)'
(Z2 =)'
(          32.6050885121059)'
(top_sta =)'
(          111.691012577114)'
(Lslope =)'
(          150.072357208419)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.113278689801551)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.978547869412482)'
(slope =)'
ET
endstream
endobj
29 0 obj
2294
endobj
30 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 31 0 R
>>
endobj
31 0 obj
<<
/Length 32 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         0.264525753135745)'
(Irb =)'
(          1.96612152168106)'
(gamma_berm =)'
(         0.978547869412482)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.978547869412482)'
(ans =)'
(!!! - - Iribaren number:   1.92 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.8 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.3530785745975)'
(R2del =)'
(       0.00392456461842983)'
(Z2 =)'
(          32.6090130767243)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          32.6090130767243)'
(diary off)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
ET
endstream
endobj
32 0 obj
2002
endobj
33 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 34 0 R
>>
endobj
34 0 obj
<<
/Length 35 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.977861924974634)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.4035594084022)'
(R2del =)'
(         0.739159408402184)'
(Z2 =)'
ET
endstream
endobj
35 0 obj
2291
endobj
36 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 37 0 R
>>
endobj
37 0 obj
<<
/Length 38 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(           32.659493910529)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          112.060463877013)'
(Z2 =)'
(           32.659493910529)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          23.4035594084022)'
(Z2 =)'
(           32.659493910529)'
(top_sta =)'
(          112.060463877013)'
(Lslope =)'
(          150.441808508318)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.113000502776195)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.978600551028116)'
(slope =)'
(         0.264201087385079)'
(Irb =)'
(          1.96370840192932)'
(gamma_berm =)'
(         0.978600551028116)'
(gamma_perm =)'
ET
endstream
endobj
38 0 obj
2245
endobj
39 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 40 0 R
>>
endobj
40 0 obj
<<
/Length 41 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.978600551028116)'
(ans =)'
(!!! - - Iribaren number:   1.92 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.8 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.3491540099791)'
(R2del =)'
(        0.0544053984230999)'
(Z2 =)'
(          32.6050885121059)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          111.691012577114)'
(Z2 =)'
(          32.6050885121059)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          23.3491540099791)'
(Z2 =)'
(          32.6050885121059)'
(top_sta =)'
(          111.691012577114)'
(Lslope =)'
(          150.072357208419)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
ET
endstream
endobj
41 0 obj
2284
endobj
42 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 43 0 R
>>
endobj
43 0 obj
<<
/Length 44 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.113278689801551)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.978547869412482)'
(slope =)'
(         0.264525753135745)'
(Irb =)'
(          1.96612152168106)'
(gamma_berm =)'
(         0.978547869412482)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.978547869412482)'
(ans =)'
(!!! - - Iribaren number:   1.92 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.8 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.3530785745975)'
(R2del =)'
(       0.00392456461842983)'
(Z2 =)'
(          32.6090130767243)'
(Z2 =)'
(          32.6090130767243)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=1;   % this may get changed automatically below)'
(gamma_rough=1;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
ET
endstream
endobj
44 0 obj
3190
endobj
45 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 46 0 R
>>
endobj
46 0 obj
<<
/Length 47 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
ET
endstream
endobj
47 0 obj
3745
endobj
48 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 49 0 R
>>
endobj
49 0 obj
<<
/Length 50 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
ET
endstream
endobj
50 0 obj
2878
endobj
51 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 52 0 R
>>
endobj
52 0 obj
<<
/Length 53 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
ET
endstream
endobj
53 0 obj
3486
endobj
54 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 55 0 R
>>
endobj
55 0 obj
<<
/Length 56 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
ET
endstream
endobj
56 0 obj
2457
endobj
57 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 58 0 R
>>
endobj
58 0 obj
<<
/Length 59 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.977861924974634)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.4035594084022)'
(R2del =)'
(         0.739159408402184)'
(Z2 =)'
(           32.659493910529)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          112.060463877013)'
(Z2 =)'
(           32.659493910529)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          23.4035594084022)'
(Z2 =)'
(           32.659493910529)'
(top_sta =)'
(          112.060463877013)'
(Lslope =)'
(          150.441808508318)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
ET
endstream
endobj
59 0 obj
2256
endobj
60 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 61 0 R
>>
endobj
61 0 obj
<<
/Length 62 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.113000502776195)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.978600551028116)'
(slope =)'
(         0.264201087385079)'
(Irb =)'
(          1.96370840192932)'
(gamma_berm =)'
(         0.978600551028116)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.978600551028116)'
(ans =)'
(!!! - - Iribaren number:   1.92 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.8 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.3491540099791)'
(R2del =)'
(        0.0544053984230999)'
(Z2 =)'
(          32.6050885121059)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          111.691012577114)'
(Z2 =)'
(          32.6050885121059)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          23.3491540099791)'
(Z2 =)'
(          32.6050885121059)'
(top_sta =)'
(          111.691012577114)'
(Lslope =)'
(          150.072357208419)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
ET
endstream
endobj
62 0 obj
2230
endobj
63 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 64 0 R
>>
endobj
64 0 obj
<<
/Length 65 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.113278689801551)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.978547869412482)'
(slope =)'
(         0.264525753135745)'
(Irb =)'
(          1.96612152168106)'
(gamma_berm =)'
(         0.978547869412482)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.978547869412482)'
(ans =)'
(!!! - - Iribaren number:   1.92 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.8 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.3530785745975)'
(R2del =)'
(       0.00392456461842983)'
(Z2 =)'
(          32.6090130767243)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          32.6090130767243)'
(diary off)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
ET
endstream
endobj
65 0 obj
2621
endobj
66 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 67 0 R
>>
endobj
67 0 obj
<<
/Length 68 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=1;   % this may get changed automatically below)'
(gamma_rough=1;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
ET
endstream
endobj
68 0 obj
3516
endobj
69 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 70 0 R
>>
endobj
70 0 obj
<<
/Length 71 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
ET
endstream
endobj
71 0 obj
3080
endobj
72 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 73 0 R
>>
endobj
73 0 obj
<<
/Length 74 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
ET
endstream
endobj
74 0 obj
3532
endobj
75 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 76 0 R
>>
endobj
76 0 obj
<<
/Length 77 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
ET
endstream
endobj
77 0 obj
3017
endobj
78 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 79 0 R
>>
endobj
79 0 obj
<<
/Length 80 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.977861924974634)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.4035594084022)'
(R2del =)'
(         0.739159408402184)'
(Z2 =)'
(           32.659493910529)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          112.060463877013)'
(Z2 =)'
(           32.659493910529)'
ET
endstream
endobj
80 0 obj
2296
endobj
81 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 82 0 R
>>
endobj
82 0 obj
<<
/Length 83 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          23.4035594084022)'
(Z2 =)'
(           32.659493910529)'
(top_sta =)'
(          112.060463877013)'
(Lslope =)'
(          150.441808508318)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.113000502776195)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.978600551028116)'
(slope =)'
(         0.264201087385079)'
(Irb =)'
(          1.96370840192932)'
(gamma_berm =)'
(         0.978600551028116)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.978600551028116)'
(ans =)'
(!!! - - Iribaren number:   1.92 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.8 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
ET
endstream
endobj
83 0 obj
2284
endobj
84 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 85 0 R
>>
endobj
85 0 obj
<<
/Length 86 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(R2_new =)'
(          23.3491540099791)'
(R2del =)'
(        0.0544053984230999)'
(Z2 =)'
(          32.6050885121059)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          111.691012577114)'
(Z2 =)'
(          32.6050885121059)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          23.3491540099791)'
(Z2 =)'
(          32.6050885121059)'
(top_sta =)'
(          111.691012577114)'
(Lslope =)'
(          150.072357208419)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.113278689801551)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.978547869412482)'
(slope =)'
(         0.264525753135745)'
ET
endstream
endobj
86 0 obj
2235
endobj
87 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 88 0 R
>>
endobj
88 0 obj
<<
/Length 89 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(Irb =)'
(          1.96612152168106)'
(gamma_berm =)'
(         0.978547869412482)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(     1)'
(gamma =)'
(         0.978547869412482)'
(ans =)'
(!!! - - Iribaren number:   1.92 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.8 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          23.3530785745975)'
(R2del =)'
(       0.00392456461842983)'
(Z2 =)'
(          32.6090130767243)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          32.6090130767243)'
(diary off)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.97855;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
ET
endstream
endobj
89 0 obj
3257
endobj
90 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 91 0 R
>>
endobj
91 0 obj
<<
/Length 92 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
ET
endstream
endobj
92 0 obj
3700
endobj
93 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 94 0 R
>>
endobj
94 0 obj
<<
/Length 95 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
ET
endstream
endobj
95 0 obj
2994
endobj
96 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 97 0 R
>>
endobj
97 0 obj
<<
/Length 98 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
ET
endstream
endobj
98 0 obj
3416
endobj
99 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 100 0 R
>>
endobj
100 0 obj
<<
/Length 101 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
ET
endstream
endobj
101 0 obj
2430
endobj
102 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 103 0 R
>>
endobj
103 0 obj
<<
/Length 104 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
ET
endstream
endobj
104 0 obj
2243
endobj
105 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 106 0 R
>>
endobj
106 0 obj
<<
/Length 107 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
ET
endstream
endobj
107 0 obj
2250
endobj
108 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 109 0 R
>>
endobj
109 0 obj
<<
/Length 110 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
ET
endstream
endobj
110 0 obj
2252
endobj
111 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 112 0 R
>>
endobj
112 0 obj
<<
/Length 113 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
ET
endstream
endobj
113 0 obj
2321
endobj
114 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 115 0 R
>>
endobj
115 0 obj
<<
/Length 116 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          23.8092710365979)'
(diary off)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.8;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
ET
endstream
endobj
116 0 obj
3684
endobj
117 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 118 0 R
>>
endobj
118 0 obj
<<
/Length 119 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
ET
endstream
endobj
119 0 obj
3101
endobj
120 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 121 0 R
>>
endobj
121 0 obj
<<
/Length 122 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
ET
endstream
endobj
122 0 obj
3222
endobj
123 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 124 0 R
>>
endobj
124 0 obj
<<
/Length 125 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
ET
endstream
endobj
125 0 obj
3508
endobj
126 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 127 0 R
>>
endobj
127 0 obj
<<
/Length 128 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.8)'
(gamma =)'
(         0.782289539979707)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
ET
endstream
endobj
128 0 obj
2304
endobj
129 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 130 0 R
>>
endobj
130 0 obj
<<
/Length 131 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(R2_new =)'
(          18.7228475267218)'
(R2del =)'
(          3.94155247327825)'
(Z2 =)'
(          27.9787820288486)'
(top_sta =)'
(          79.8990878658385)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          79.8990878658385)'
(Z2 =)'
(          27.9787820288486)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          18.7228475267218)'
(Z2 =)'
(          27.9787820288486)'
(top_sta =)'
(          79.8990878658385)'
(Lslope =)'
(          118.280432497143)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.143726224541922)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.972781873244423)'
ET
endstream
endobj
131 0 obj
2237
endobj
132 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 133 0 R
>>
endobj
133 0 obj
<<
/Length 134 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(slope =)'
(         0.301882192591457)'
(Irb =)'
(          2.24377803987103)'
(gamma_berm =)'
(         0.972781873244423)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.8)'
(gamma =)'
(         0.778225498595539)'
(ans =)'
(!!! - - Iribaren number:   2.18 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.3 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          19.0011704443444)'
(R2del =)'
(          0.27832291762261)'
(Z2 =)'
(          28.2571049464712)'
(top_sta =)'
(          81.8553611847108)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          81.8553611847108)'
(Z2 =)'
(          28.2571049464712)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          19.0011704443444)'
(Z2 =)'
(          28.2571049464712)'
(top_sta =)'
(          81.8553611847108)'
(Lslope =)'
(          120.236705816015)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
ET
endstream
endobj
134 0 obj
2286
endobj
135 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 136 0 R
>>
endobj
136 0 obj
<<
/Length 137 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(          0.14138777243293)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.973224717172991)'
(slope =)'
(         0.298857675693918)'
(Irb =)'
(          2.22129793086672)'
(gamma_berm =)'
(         0.973224717172991)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.8)'
(gamma =)'
(         0.778579773738393)'
(ans =)'
(!!! - - Iribaren number:   2.16 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.3 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          18.9781084739222)'
(R2del =)'
(        0.0230619704221695)'
(Z2 =)'
(           28.234042976049)'
(top_sta =)'
(          81.6932634393908)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          81.6932634393908)'
(Z2 =)'
(           28.234042976049)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          18.9781084739222)'
(Z2 =)'
(           28.234042976049)'
(top_sta =)'
(          81.6932634393908)'
(Lslope =)'
(          120.074608070695)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
ET
endstream
endobj
137 0 obj
2250
endobj
138 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 139 0 R
>>
endobj
139 0 obj
<<
/Length 140 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.141578642421977)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.973188571204694)'
(slope =)'
(         0.299103926302623)'
(Irb =)'
(          2.22312822003805)'
(gamma_berm =)'
(         0.973188571204694)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.8)'
(gamma =)'
(         0.778550856963756)'
(ans =)'
(!!! - - Iribaren number:   2.16 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.3 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          18.9800034263996)'
(R2del =)'
(        0.0018949524774321)'
(Z2 =)'
(          28.2359379285264)'
(top_sta =)'
(          81.7065826622698)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          28.2359379285264)'
(diary off)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
ET
endstream
endobj
140 0 obj
2202
endobj
141 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 142 0 R
>>
endobj
142 0 obj
<<
/Length 143 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
ET
endstream
endobj
143 0 obj
2124
endobj
144 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 145 0 R
>>
endobj
145 0 obj
<<
/Length 146 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.8)'
(gamma =)'
(         0.782289539979707)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          18.7228475267218)'
(R2del =)'
(          3.94155247327825)'
(Z2 =)'
(          27.9787820288486)'
(top_sta =)'
(          79.8990878658385)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          79.8990878658385)'
(Z2 =)'
(          27.9787820288486)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          18.7228475267218)'
(Z2 =)'
(          27.9787820288486)'
(top_sta =)'
(          79.8990878658385)'
(Lslope =)'
(          118.280432497143)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
ET
endstream
endobj
146 0 obj
2250
endobj
147 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 148 0 R
>>
endobj
148 0 obj
<<
/Length 149 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.143726224541922)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.972781873244423)'
(slope =)'
(         0.301882192591457)'
(Irb =)'
(          2.24377803987103)'
(gamma_berm =)'
(         0.972781873244423)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.8)'
(gamma =)'
(         0.778225498595539)'
(ans =)'
(!!! - - Iribaren number:   2.18 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.3 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          19.0011704443444)'
(R2del =)'
(          0.27832291762261)'
(Z2 =)'
(          28.2571049464712)'
(top_sta =)'
(          81.8553611847108)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          81.8553611847108)'
(Z2 =)'
(          28.2571049464712)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          19.0011704443444)'
(Z2 =)'
(          28.2571049464712)'
(top_sta =)'
(          81.8553611847108)'
(Lslope =)'
(          120.236705816015)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
ET
endstream
endobj
149 0 obj
2250
endobj
150 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 151 0 R
>>
endobj
151 0 obj
<<
/Length 152 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(          0.14138777243293)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.973224717172991)'
(slope =)'
(         0.298857675693918)'
(Irb =)'
(          2.22129793086672)'
(gamma_berm =)'
(         0.973224717172991)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.8)'
(gamma =)'
(         0.778579773738393)'
(ans =)'
(!!! - - Iribaren number:   2.16 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.3 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          18.9781084739222)'
(R2del =)'
(        0.0230619704221695)'
(Z2 =)'
(           28.234042976049)'
(top_sta =)'
(          81.6932634393908)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          81.6932634393908)'
(Z2 =)'
(           28.234042976049)'
(H0 =)'
(                    7.5548)'
ET
endstream
endobj
152 0 obj
2316
endobj
153 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 154 0 R
>>
endobj
154 0 obj
<<
/Length 155 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          18.9781084739222)'
(Z2 =)'
(           28.234042976049)'
(top_sta =)'
(          81.6932634393908)'
(Lslope =)'
(          120.074608070695)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.141578642421977)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.973188571204694)'
(slope =)'
(         0.299103926302623)'
(Irb =)'
(          2.22312822003805)'
(gamma_berm =)'
(         0.973188571204694)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.8)'
(gamma =)'
(         0.778550856963756)'
(ans =)'
(!!! - - Iribaren number:   2.16 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.3 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          18.9800034263996)'
ET
endstream
endobj
155 0 obj
2308
endobj
156 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 157 0 R
>>
endobj
157 0 obj
<<
/Length 158 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(R2del =)'
(        0.0018949524774321)'
(Z2 =)'
(          28.2359379285264)'
(top_sta =)'
(          81.7065826622698)'
(Z2 =)'
(          28.2359379285264)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
ET
endstream
endobj
158 0 obj
1969
endobj
159 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 160 0 R
>>
endobj
160 0 obj
<<
/Length 161 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
ET
endstream
endobj
161 0 obj
2279
endobj
162 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 163 0 R
>>
endobj
163 0 obj
<<
/Length 164 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
ET
endstream
endobj
164 0 obj
2316
endobj
165 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 166 0 R
>>
endobj
166 0 obj
<<
/Length 167 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
ET
endstream
endobj
167 0 obj
2245
endobj
168 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 169 0 R
>>
endobj
169 0 obj
<<
/Length 170 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
ET
endstream
endobj
170 0 obj
2308
endobj
171 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 172 0 R
>>
endobj
172 0 obj
<<
/Length 173 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(Z2 =)'
(          23.8092710365979)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
ET
endstream
endobj
173 0 obj
3198
endobj
174 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 175 0 R
>>
endobj
175 0 obj
<<
/Length 176 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
ET
endstream
endobj
176 0 obj
3754
endobj
177 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 178 0 R
>>
endobj
178 0 obj
<<
/Length 179 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
ET
endstream
endobj
179 0 obj
2828
endobj
180 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 181 0 R
>>
endobj
181 0 obj
<<
/Length 182 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
ET
endstream
endobj
182 0 obj
3460
endobj
183 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 184 0 R
>>
endobj
184 0 obj
<<
/Length 185 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
ET
endstream
endobj
185 0 obj
2544
endobj
186 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 187 0 R
>>
endobj
187 0 obj
<<
/Length 188 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
ET
endstream
endobj
188 0 obj
2250
endobj
189 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 190 0 R
>>
endobj
190 0 obj
<<
/Length 191 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
ET
endstream
endobj
191 0 obj
2250
endobj
192 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 193 0 R
>>
endobj
193 0 obj
<<
/Length 194 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
ET
endstream
endobj
194 0 obj
2321
endobj
195 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 196 0 R
>>
endobj
196 0 obj
<<
/Length 197 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
ET
endstream
endobj
197 0 obj
2245
endobj
198 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 199 0 R
>>
endobj
199 0 obj
<<
/Length 200 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
ET
endstream
endobj
200 0 obj
2010
endobj
201 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 202 0 R
>>
endobj
202 0 obj
<<
/Length 203 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
ET
endstream
endobj
203 0 obj
2316
endobj
204 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 205 0 R
>>
endobj
205 0 obj
<<
/Length 206 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
ET
endstream
endobj
206 0 obj
2308
endobj
207 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 208 0 R
>>
endobj
208 0 obj
<<
/Length 209 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
ET
endstream
endobj
209 0 obj
2236
endobj
210 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 211 0 R
>>
endobj
211 0 obj
<<
/Length 212 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
ET
endstream
endobj
212 0 obj
2288
endobj
213 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 214 0 R
>>
endobj
214 0 obj
<<
/Length 215 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(Z2 =)'
(          23.8092710365979)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
ET
endstream
endobj
215 0 obj
2080
endobj
216 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 217 0 R
>>
endobj
217 0 obj
<<
/Length 218 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    31)'
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
ET
endstream
endobj
218 0 obj
2219
endobj
219 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 220 0 R
>>
endobj
220 0 obj
<<
/Length 221 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
ET
endstream
endobj
221 0 obj
2311
endobj
222 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 223 0 R
>>
endobj
223 0 obj
<<
/Length 224 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
ET
endstream
endobj
224 0 obj
2250
endobj
225 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 226 0 R
>>
endobj
226 0 obj
<<
/Length 227 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
ET
endstream
endobj
227 0 obj
2250
endobj
228 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 229 0 R
>>
endobj
229 0 obj
<<
/Length 230 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(Z2 =)'
(          23.8092710365979)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
ET
endstream
endobj
230 0 obj
2636
endobj
231 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 232 0 R
>>
endobj
232 0 obj
<<
/Length 233 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
ET
endstream
endobj
233 0 obj
3524
endobj
234 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 235 0 R
>>
endobj
235 0 obj
<<
/Length 236 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
ET
endstream
endobj
236 0 obj
3080
endobj
237 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 238 0 R
>>
endobj
238 0 obj
<<
/Length 239 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
ET
endstream
endobj
239 0 obj
3532
endobj
240 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 241 0 R
>>
endobj
241 0 obj
<<
/Length 242 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
ET
endstream
endobj
242 0 obj
3017
endobj
243 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 244 0 R
>>
endobj
244 0 obj
<<
/Length 245 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
ET
endstream
endobj
245 0 obj
2321
endobj
246 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 247 0 R
>>
endobj
247 0 obj
<<
/Length 248 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
ET
endstream
endobj
248 0 obj
2244
endobj
249 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 250 0 R
>>
endobj
250 0 obj
<<
/Length 251 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
ET
endstream
endobj
251 0 obj
2289
endobj
252 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 253 0 R
>>
endobj
253 0 obj
<<
/Length 254 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
ET
endstream
endobj
254 0 obj
2294
endobj
255 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 256 0 R
>>
endobj
256 0 obj
<<
/Length 257 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
ET
endstream
endobj
257 0 obj
3116
endobj
258 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 259 0 R
>>
endobj
259 0 obj
<<
/Length 260 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
ET
endstream
endobj
260 0 obj
3314
endobj
261 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 262 0 R
>>
endobj
262 0 obj
<<
/Length 263 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
ET
endstream
endobj
263 0 obj
3001
endobj
264 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 265 0 R
>>
endobj
265 0 obj
<<
/Length 266 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
ET
endstream
endobj
266 0 obj
3595
endobj
267 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 268 0 R
>>
endobj
268 0 obj
<<
/Length 269 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
ET
endstream
endobj
269 0 obj
2719
endobj
270 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 271 0 R
>>
endobj
271 0 obj
<<
/Length 272 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
ET
endstream
endobj
272 0 obj
2250
endobj
273 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 274 0 R
>>
endobj
274 0 obj
<<
/Length 275 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
ET
endstream
endobj
275 0 obj
2284
endobj
276 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 277 0 R
>>
endobj
277 0 obj
<<
/Length 278 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
ET
endstream
endobj
278 0 obj
2311
endobj
279 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 280 0 R
>>
endobj
280 0 obj
<<
/Length 281 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
ET
endstream
endobj
281 0 obj
2242
endobj
282 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 283 0 R
>>
endobj
283 0 obj
<<
/Length 284 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
ET
endstream
endobj
284 0 obj
2018
endobj
285 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 286 0 R
>>
endobj
286 0 obj
<<
/Length 287 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
ET
endstream
endobj
287 0 obj
2316
endobj
288 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 289 0 R
>>
endobj
289 0 obj
<<
/Length 290 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
ET
endstream
endobj
290 0 obj
2245
endobj
291 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 292 0 R
>>
endobj
292 0 obj
<<
/Length 293 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
ET
endstream
endobj
293 0 obj
2308
endobj
294 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 295 0 R
>>
endobj
295 0 obj
<<
/Length 296 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
ET
endstream
endobj
296 0 obj
2250
endobj
297 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 298 0 R
>>
endobj
298 0 obj
<<
/Length 299 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(Z2 =)'
(          23.8092710365979)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
ET
endstream
endobj
299 0 obj
2984
endobj
300 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 301 0 R
>>
endobj
301 0 obj
<<
/Length 302 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
ET
endstream
endobj
302 0 obj
3334
endobj
303 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 304 0 R
>>
endobj
304 0 obj
<<
/Length 305 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
ET
endstream
endobj
305 0 obj
3090
endobj
306 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 307 0 R
>>
endobj
307 0 obj
<<
/Length 308 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
ET
endstream
endobj
308 0 obj
3615
endobj
309 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 310 0 R
>>
endobj
310 0 obj
<<
/Length 311 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
ET
endstream
endobj
311 0 obj
2761
endobj
312 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 313 0 R
>>
endobj
313 0 obj
<<
/Length 314 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
ET
endstream
endobj
314 0 obj
2250
endobj
315 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 316 0 R
>>
endobj
316 0 obj
<<
/Length 317 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
ET
endstream
endobj
317 0 obj
2321
endobj
318 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 319 0 R
>>
endobj
319 0 obj
<<
/Length 320 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
ET
endstream
endobj
320 0 obj
2245
endobj
321 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 322 0 R
>>
endobj
322 0 obj
<<
/Length 323 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
ET
endstream
endobj
323 0 obj
2296
endobj
324 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 325 0 R
>>
endobj
325 0 obj
<<
/Length 326 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
ET
endstream
endobj
326 0 obj
2030
endobj
327 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 328 0 R
>>
endobj
328 0 obj
<<
/Length 329 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
ET
endstream
endobj
329 0 obj
2308
endobj
330 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 331 0 R
>>
endobj
331 0 obj
<<
/Length 332 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
ET
endstream
endobj
332 0 obj
2236
endobj
333 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 334 0 R
>>
endobj
334 0 obj
<<
/Length 335 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
ET
endstream
endobj
335 0 obj
2288
endobj
336 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 337 0 R
>>
endobj
337 0 obj
<<
/Length 338 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
ET
endstream
endobj
338 0 obj
2250
endobj
339 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 340 0 R
>>
endobj
340 0 obj
<<
/Length 341 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(Z2 =)'
(          23.8092710365979)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
ET
endstream
endobj
341 0 obj
2788
endobj
342 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 343 0 R
>>
endobj
343 0 obj
<<
/Length 344 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
ET
endstream
endobj
344 0 obj
3357
endobj
345 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 346 0 R
>>
endobj
346 0 obj
<<
/Length 347 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
ET
endstream
endobj
347 0 obj
3197
endobj
348 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 349 0 R
>>
endobj
349 0 obj
<<
/Length 350 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
ET
endstream
endobj
350 0 obj
3520
endobj
351 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 352 0 R
>>
endobj
352 0 obj
<<
/Length 353 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
ET
endstream
endobj
353 0 obj
2922
endobj
354 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 355 0 R
>>
endobj
355 0 obj
<<
/Length 356 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
ET
endstream
endobj
356 0 obj
2252
endobj
357 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 358 0 R
>>
endobj
358 0 obj
<<
/Length 359 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
ET
endstream
endobj
359 0 obj
2346
endobj
360 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 361 0 R
>>
endobj
361 0 obj
<<
/Length 362 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
ET
endstream
endobj
362 0 obj
2187
endobj
363 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 364 0 R
>>
endobj
364 0 obj
<<
/Length 365 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
ET
endstream
endobj
365 0 obj
2370
endobj
366 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 367 0 R
>>
endobj
367 0 obj
<<
/Length 368 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
ET
endstream
endobj
368 0 obj
2019
endobj
369 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 370 0 R
>>
endobj
370 0 obj
<<
/Length 371 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
ET
endstream
endobj
371 0 obj
2185
endobj
372 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 373 0 R
>>
endobj
373 0 obj
<<
/Length 374 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
ET
endstream
endobj
374 0 obj
2347
endobj
375 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 376 0 R
>>
endobj
376 0 obj
<<
/Length 377 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
ET
endstream
endobj
377 0 obj
2268
endobj
378 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 379 0 R
>>
endobj
379 0 obj
<<
/Length 380 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
ET
endstream
endobj
380 0 obj
2250
endobj
381 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 382 0 R
>>
endobj
382 0 obj
<<
/Length 383 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(Z2 =)'
(          23.8092710365979)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
ET
endstream
endobj
383 0 obj
2740
endobj
384 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 385 0 R
>>
endobj
385 0 obj
<<
/Length 386 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
ET
endstream
endobj
386 0 obj
3448
endobj
387 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 388 0 R
>>
endobj
388 0 obj
<<
/Length 389 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
ET
endstream
endobj
389 0 obj
3143
endobj
390 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 391 0 R
>>
endobj
391 0 obj
<<
/Length 392 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
ET
endstream
endobj
392 0 obj
3437
endobj
393 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 394 0 R
>>
endobj
394 0 obj
<<
/Length 395 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
ET
endstream
endobj
395 0 obj
3016
endobj
396 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 397 0 R
>>
endobj
397 0 obj
<<
/Length 398 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
ET
endstream
endobj
398 0 obj
2284
endobj
399 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 400 0 R
>>
endobj
400 0 obj
<<
/Length 401 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
ET
endstream
endobj
401 0 obj
2311
endobj
402 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 403 0 R
>>
endobj
403 0 obj
<<
/Length 404 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
ET
endstream
endobj
404 0 obj
2242
endobj
405 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 406 0 R
>>
endobj
406 0 obj
<<
/Length 407 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
ET
endstream
endobj
407 0 obj
2311
endobj
408 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 409 0 R
>>
endobj
409 0 obj
<<
/Length 410 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
ET
endstream
endobj
410 0 obj
2043
endobj
411 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 412 0 R
>>
endobj
412 0 obj
<<
/Length 413 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
ET
endstream
endobj
413 0 obj
2225
endobj
414 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 415 0 R
>>
endobj
415 0 obj
<<
/Length 416 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
ET
endstream
endobj
416 0 obj
2308
endobj
417 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 418 0 R
>>
endobj
418 0 obj
<<
/Length 419 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
ET
endstream
endobj
419 0 obj
2250
endobj
420 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 421 0 R
>>
endobj
421 0 obj
<<
/Length 422 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
ET
endstream
endobj
422 0 obj
2250
endobj
423 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 424 0 R
>>
endobj
424 0 obj
<<
/Length 425 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(Z2 =)'
(          23.8092710365979)'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(SWEL =)'
(                  8.736223)'
(SWEL_fore =)'
(                 10.255623)'
(L0 =)'
(          417.357062285715)'
(Ztoe =)'
(                 -2.595977)'
(Z2 =)'
(                 20.068423)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
ET
endstream
endobj
425 0 obj
2262
endobj
426 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 427 0 R
>>
endobj
427 0 obj
<<
/Length 428 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta =)'
(         -38.3813446313046)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
ET
endstream
endobj
428 0 obj
2098
endobj
429 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 430 0 R
>>
endobj
430 0 obj
<<
/Length 431 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
ET
endstream
endobj
431 0 obj
2250
endobj
432 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 433 0 R
>>
endobj
433 0 obj
<<
/Length 434 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
ET
endstream
endobj
434 0 obj
2252
endobj
435 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 436 0 R
>>
endobj
436 0 obj
<<
/Length 437 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
ET
endstream
endobj
437 0 obj
2346
endobj
438 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 439 0 R
>>
endobj
439 0 obj
<<
/Length 440 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
ET
endstream
endobj
440 0 obj
2187
endobj
441 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 442 0 R
>>
endobj
442 0 obj
<<
/Length 443 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(Z2 =)'
(          23.8092710365979)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
ET
endstream
endobj
443 0 obj
3611
endobj
444 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 445 0 R
>>
endobj
445 0 obj
<<
/Length 446 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
ET
endstream
endobj
446 0 obj
3274
endobj
447 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 448 0 R
>>
endobj
448 0 obj
<<
/Length 449 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
ET
endstream
endobj
449 0 obj
3170
endobj
450 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 451 0 R
>>
endobj
451 0 obj
<<
/Length 452 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
ET
endstream
endobj
452 0 obj
3531
endobj
453 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 454 0 R
>>
endobj
454 0 obj
<<
/Length 455 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
ET
endstream
endobj
455 0 obj
2247
endobj
456 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 457 0 R
>>
endobj
457 0 obj
<<
/Length 458 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
ET
endstream
endobj
458 0 obj
2319
endobj
459 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 460 0 R
>>
endobj
460 0 obj
<<
/Length 461 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
ET
endstream
endobj
461 0 obj
2250
endobj
462 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 463 0 R
>>
endobj
463 0 obj
<<
/Length 464 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
ET
endstream
endobj
464 0 obj
2250
endobj
465 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 466 0 R
>>
endobj
466 0 obj
<<
/Length 467 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
ET
endstream
endobj
467 0 obj
2415
endobj
468 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 469 0 R
>>
endobj
469 0 obj
<<
/Length 470 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
ET
endstream
endobj
470 0 obj
3665
endobj
471 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 472 0 R
>>
endobj
472 0 obj
<<
/Length 473 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
ET
endstream
endobj
473 0 obj
3141
endobj
474 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 475 0 R
>>
endobj
475 0 obj
<<
/Length 476 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
ET
endstream
endobj
476 0 obj
3330
endobj
477 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 478 0 R
>>
endobj
478 0 obj
<<
/Length 479 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
ET
endstream
endobj
479 0 obj
3196
endobj
480 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 481 0 R
>>
endobj
481 0 obj
<<
/Length 482 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
ET
endstream
endobj
482 0 obj
2346
endobj
483 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 484 0 R
>>
endobj
484 0 obj
<<
/Length 485 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
ET
endstream
endobj
485 0 obj
2187
endobj
486 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 487 0 R
>>
endobj
487 0 obj
<<
/Length 488 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
ET
endstream
endobj
488 0 obj
2370
endobj
489 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 490 0 R
>>
endobj
490 0 obj
<<
/Length 491 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
ET
endstream
endobj
491 0 obj
2243
endobj
492 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 493 0 R
>>
endobj
493 0 obj
<<
/Length 494 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
ET
endstream
endobj
494 0 obj
3003
endobj
495 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 496 0 R
>>
endobj
496 0 obj
<<
/Length 497 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
ET
endstream
endobj
497 0 obj
3334
endobj
498 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 499 0 R
>>
endobj
499 0 obj
<<
/Length 500 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
ET
endstream
endobj
500 0 obj
3104
endobj
501 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 502 0 R
>>
endobj
502 0 obj
<<
/Length 503 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
ET
endstream
endobj
503 0 obj
3573
endobj
504 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 505 0 R
>>
endobj
505 0 obj
<<
/Length 506 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
ET
endstream
endobj
506 0 obj
2753
endobj
507 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 508 0 R
>>
endobj
508 0 obj
<<
/Length 509 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
ET
endstream
endobj
509 0 obj
2250
endobj
510 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 511 0 R
>>
endobj
511 0 obj
<<
/Length 512 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
ET
endstream
endobj
512 0 obj
2321
endobj
513 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 514 0 R
>>
endobj
514 0 obj
<<
/Length 515 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
ET
endstream
endobj
515 0 obj
2304
endobj
516 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 517 0 R
>>
endobj
517 0 obj
<<
/Length 518 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
ET
endstream
endobj
518 0 obj
2237
endobj
519 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 520 0 R
>>
endobj
520 0 obj
<<
/Length 521 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(diary on         % begin recording)'
(% FEMA appeal for The Town of Harpswell, Cumberland county, Maine)'
(% TRANSECT ID: CM-144-1)'
(% calculation by SJH, Ransom Consulting, Inc. 26-Feb-2020)'
(% 100-year wave runup using TAW methodology)'
(% including berm and weighted average with foreshore if necessary)'
(%)'
(% chk nld 20200220)'
(%)'
(% This script assumes that the incident wave conditions provided)'
(% as input in the configuration section below are the )'
(% appropriate values located at the end of the foreshore)'
(% or toe of the slope on which the run-up is being calculated)'
(% the script does not attempt to apply a depth limit or any other)'
(% transformation to the incident wave conditions other than )'
(% conversion of the peak wave period to the spectral mean wave )'
(% as recommended in the references below)'
(% )'
(% references:)'
(%)'
(% Van der Meer, J.W., 2002. Technical Report Wave Run-up and )'
(% Wave Overtopping at Dikes. TAW Technical Advisory Committee on)'
(% Flood Defence, The Netherlands.)'
(%)'
(% FEMA. 2007,  Atlantic Ocean and Gulf of Mexico Coastal Guidelines Update)'
(%)'
(% )'
(%)'
(%--------------------------------------------------------------------------)'
(% CONFIG)'
(%--------------------------------------------------------------------------)'
(fname='inpfiles/CM-144-1sta_ele_include.csv';   % file with station, elevation, include)'
(                                      % third colunm is 0 for excluded points)'
(imgname='logfiles/CM-144-1-runup';                            )'
(SWEL=8.8043;  % 100-yr still water level including wave setup. )'
(H0=7.5548;    % significant wave height at toe of structure )'
(Tp=9.9345;    % peak period, 1/fma, )'
(T0=Tp/1.1;   )'
(gamma_berm=0.96381;   % this may get changed automatically below)'
(gamma_rough=0.6;  )'
(gamma_beta=1;  )'
(gamma_perm=1;)'
(setupAtToe=-0.068077; )'
(maxSetup=1.5194;   % only used in case of berm/shallow foreshore weighted average )'
(plotTitle='Iterative TAW for CM-144-1')'
(plotTitle =)'
(Iterative TAW for CM-144-1)'
(% END CONFIG)'
(%-------------------------------)'
(SWEL=SWEL+setupAtToe  )'
(SWEL =)'
(                  8.736223)'
(SWEL_fore=SWEL+maxSetup)'
(SWEL_fore =)'
(                 10.255623)'
(% FIND WAVELENGTH USING DEEPWATER DISPERSION RELATION)'
(% using English units)'
(L0=32.15/\(2*pi\)*T0^2)'
(L0 =)'
ET
endstream
endobj
521 0 obj
3224
endobj
522 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 523 0 R
>>
endobj
523 0 obj
<<
/Length 524 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          417.357062285715)'
(% Find Hb \(Munk, 1949\))'
(%Hb=H0/\(3.3*\(H0/L0\)^\(1/3\)\) )'
(%Db=-Hb/.78+SWEL;  % depth at breaking)'
(% The toe elevation here is only used to determine the average )'
(% structure slope, it is not used to depth limit the wave height.)'
(% Any depth limiting or other modification of the wave height )'
(% to make it consitent with TAW guidance should be performed )'
(% prior to the input of the significant wave height given above. )'
(Ztoe=SWEL-1.5*H0)'
(Ztoe =)'
(                 -2.595977)'
(% read the transect)'
([sta,dep,inc] = textread\(fname,'%n%n%n%*[^\\n]','delimiter',',','headerlines',0\);)'
(% remove unselected points)'
(k=find\(inc==0\);)'
(sta\(k\)=[];)'
(dep\(k\)=[];)'
(sta_org=sta;  % used for plotting purposes)'
(dep_org=dep;)'
(% initial guess at maximum run-up elevation to estimate slope)'
(Z2=SWEL+1.5*H0)'
(Z2 =)'
(                 20.068423)'
(% determine station at the max runup and -1.5*H0 \(i.e. the toe\))'
(top_sta=-999;)'
(toe_sta=-999;)'
(for kk=1:length\(sta\)-1)'
(    if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(       top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(    end)'
(    if  \(\(Ztoe > dep\(kk\)\) & \(Ztoe <= dep\(kk+1\)\)\)    % here is the intersection of Ztoe with profile)'
(       toe_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Ztoe\))'
(    end)'
(end)'
(toe_sta =)'
(         -62.4868075374234)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(% check to make sure we got them, if not extend the end slopes outward)'
(S=diff\(dep\)./diff\(sta\);)'
(if toe_sta==-999)'
(   dy=dep\(1\)-Ztoe;)'
(   toe_sta=sta\(1\)-dy/S\(1\))'
(end)'
(if top_sta==-999)'
(   dy=Z2-dep\(end\);)'
(   top_sta=sta\(end\)+dy/S\(end\))'
(end)'
(% just so the reader can tell the values aren't -999 anymore)'
(top_sta)'
(top_sta =)'
(          34.9443976794092)'
(toe_sta)'
(toe_sta =)'
(         -38.3813446313046)'
(% check for case where the toe of slope is below SWL-1.5*H0)'
(% in this case interpolate setup from the setupAtToe\(really setup as first station\), and the max setup)'
(% also un-include points seaward of SWL-1.5*H0)'
(if Ztoe > dep\(1\))'
(   dd=SWEL_fore-dep;)'
(   k=find\(dd<0,1\); % k is index of first land point)'
(   staAtSWL=interp1\(dep\(k-1:k\),sta\(k-1:k\),SWEL_fore\);   )'
(   dsta=staAtSWL-sta\(1\);)'
(   dsetup=maxSetup-setupAtToe;)'
(   dsetdsta=dsetup/dsta;)'
(   setup=setupAtToe+dsetdsta*\(toe_sta-sta\(1\)\);)'
(   sprintf\('-!!- Location of SWEL-1.5*H0 is %4.1f ft landward of toe of slope',dsta\))'
(   sprintf\('-!!- Setup is interpolated between setup at toe of slope and max setup'\))'
(   sprintf\('-!!-       setup is adjusted to %4.2f feet',setup\))'
(   SWEL=SWEL-setupAtToe+setup;)'
(   sprintf\('-!!-       SWEL is adjusted to %4.2f feet',SWEL\))'
(   k=find\(dep < SWEL-1.5*H0\))'
(   sta\(k\)=[];)'
(   dep\(k\)=[];)'
(else)'
(   sprintf\('-!!- The User has selected a starting point that is %4.2f feet above the elevation of SWEL-1.5H0\\n',dep\(1\)-Ztoe\))'
(   sprintf\('-!!- This may be reasonable for some cases.  However the user may want to consider:\\n'\))'
(   sprintf\('-!!-   1\) Selecting a starting point that is at or below %4.2f feet elevation, or\\n', Ztoe\))'
(   sprintf\('-!!-   2\) Reducing the incident wave height to a depth limited condition.\\n'\))'
(end)'
(ans =)'
(-!!- Location of SWEL-1.5*H0 is 84.4 ft landward of toe of slope)'
(ans =)'
(-!!- Setup is interpolated between setup at toe of slope and max setup)'
(ans =)'
(-!!-       setup is adjusted to 0.45 feet)'
(ans =)'
ET
endstream
endobj
524 0 obj
3766
endobj
525 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 526 0 R
>>
endobj
526 0 obj
<<
/Length 527 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(-!!-       SWEL is adjusted to 9.26 feet)'
(k =)'
(     1)'
(     2)'
(     3)'
(     4)'
(     5)'
(     6)'
(     7)'
(    24)'
(    25)'
(    26)'
(    27)'
(    28)'
(    29)'
(    30)'
(    31)'
(    32)'
(% now iterate converge on a runup elevation)'
(tol=0.01;  % convergence criteria)'
(R2del=999;)'
(R2_new=3*H0; %initial guess)'
(R2=R2_new;)'
(iter=0;)'
(R2_all=[];)'
(topStaAll=[];)'
(Berm_Segs=[];)'
(TAW_ALWAYS_VALID=1;)'
(while\(abs\(R2del\) > tol && iter <= 25\))'
(    iter=iter+1;)'
(    sprintf \('!----------------- STARTING ITERATION %d -----------------!',iter\))'
(    % elevation of toe of slope)'
(    Ztoe)'
(    % station of toe slope \(relative to 0-NAVD88 shoreline)'
(    toe_sta )'
(    % station of top of slope/extent of 2% run-up)'
(    top_sta)'
(    % elevation of top of slope/extent of 2% run-up)'
(    Z2)'
(    % incident significant wave height)'
(    H0)'
(    % incident spectral peak wave period)'
(    Tp)'
(    % incident spectral mean wave period)'
(    T0)'
(        )'
(    R2=R2_new  )'
(    Z2=R2+SWEL)'
(    % determine slope for this iteration)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\))'
(    end)'
(    )'
(    % get the length of the slope \(not accounting for berm\))'
(    Lslope=top_sta-toe_sta)'
(    % loop over profile segments to determine berm factor )'
(    % re-calculate influence of depth of berm based on this run-up elevation)'
(    % check for berm, berm width, berm height)'
(    berm_width=0;)'
(    rdh_sum=0;)'
(    Berm_Segs=[];)'
(    Berm_Heights=[];)'
(    for kk=1:length\(sta\)-1)'
(       ddep=dep\(kk+1\)-dep\(kk\);)'
(       dsta=sta\(kk+1\)-sta\(kk\);)'
(       s=ddep/dsta;)'
(       if  \(s < 1/15\)     % count it as a berm if slope is flatter than 1:15 \(see TAW manual\))'
(          sprintf \('Berm Factor Calculation: Iteration %d, Profile Segment: %d',iter,kk\) )'
(          berm_width=berm_width+dsta;   % tally the width of all berm segments)'
(          % compute the rdh for this segment and weight it by the segment length)'
(          dh=SWEL-\(dep\(kk\)+dep\(kk+1\)\)/2  )'
(          if  dh < 0)'
(              chi=R2;)'
(          else )'
(              chi=2* H0;)'
(          end)'
(          if \(dh <= R2 & dh >=-2*H0\))'
(             rdh=\(0.5-0.5*cos\(3.14159*dh/chi\)\) ;)'
(          else)'
(             rdh=1;)'
(          end)'
(          rdh_sum=rdh_sum + rdh * dsta)'
ET
endstream
endobj
527 0 obj
2841
endobj
528 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 529 0 R
>>
endobj
529 0 obj
<<
/Length 530 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          Berm_Segs=[Berm_Segs, kk];)'
(          Berm_Heights=[Berm_Heights, \(dep\(kk\)+dep\(kk+1\)\)/2];)'
(       end)'
(       if dep\(kk\) >= Z2  % jump out of loop if we reached limit of run-up for this iteration )'
(          break)'
(       end)'
(    end)'
(    sprintf \('!------- End Berm Factor Calculation, Iter: %d ---------!',iter\))'
(    berm_width)'
(    rB=berm_width/Lslope )'
(    if \(berm_width > 0\))'
(       rdh_mean=rdh_sum/berm_width)'
(    else)'
(       rdh_mean=1)'
(    end)'
(    gamma_berm=1- rB * \(1-rdh_mean\))'
(    if gamma_berm > 1)'
(       gamma_berm=1)'
(    end)'
(    if gamma_berm < 0.6)'
(       gamma_berm =0.6)'
(    end)'
(    % Iribarren number)'
(    slope=\(Z2-Ztoe\)/\(Lslope-berm_width\))'
(    Irb=\(slope/\(sqrt\(H0/L0\)\)\))'
(    % runup height)'
(    gamma_berm)'
(    gamma_perm)'
(    gamma_beta)'
(    gamma_rough)'
(    gamma=gamma_berm*gamma_perm*gamma_beta*gamma_rough)'
(    % check validity)'
(    TAW_VALID=1;)'
(    if \(Irb*gamma_berm < 0.5 | Irb*gamma_berm > 10 \))'
(       sprintf\('!!! - - Iribaren number: %6.2f is outside the valid range \(0.5-10\), TAW NOT VALID - - !!!\\n', Irb*gamma_berm\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - Iribaren number: %6.2f is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!\\n', Irb*gamma_berm\))'
(    end)'
(    islope=1/slope;  )'
(    if \(slope < 1/8 | slope > 1\))'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is outside the valid range \(1:8 - 1:1\), TAW NOT VALID - - !!!\\n', islope\))'
(       TAW_VALID=0;)'
(    else)'
(       sprintf\('!!! - - slope: 1:%3.1f V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!\\n', islope\))'
(    end)'
(    if TAW_VALID == 0)'
(       TAW_ALWAYS_VALID=0;)'
(    end)'
(         )'
(    if \(Irb*gamma_berm < 1.8\))'
(       R2_new=gamma*H0*1.77*Irb)'
(    else)'
(       R2_new=gamma*H0*\(4.3-\(1.6/sqrt\(Irb\)\)\) )'
(    end)'
(    % check to see if we need to evaluate a shallow foreshore)'
(    if berm_width > 0.25 * L0;)'
(       disp \('!   Berm_width is greater than 1/4 wave length'\))'
(       disp \('!   Runup will be weighted average with foreshore calculation assuming depth limited wave height on berm'\);)'
(       % do the foreshore calculation )'
(       fore_H0=0.78*\(SWEL_fore-min\(Berm_Heights\)\))'
(       % get upper slope)'
(       fore_toe_sta=-999;)'
(       fore_toe_dep=-999;)'
(       for kk=length\(dep\)-1:-1:1)'
(          ddep=dep\(kk+1\)-dep\(kk\);)'
(          dsta=sta\(kk+1\)-sta\(kk\);)'
(          s=ddep/dsta;)'
(          if s < 1/15)'
(             break)'
(          end)'
(          fore_toe_sta=sta\(kk\);)'
(          fore_toe_dep=dep\(kk\);)'
(          upper_slope=\(Z2-fore_toe_dep\)/\(top_sta-fore_toe_sta\))'
(       end)'
(       fore_Irb=upper_slope/\(sqrt\(fore_H0/L0\)\);)'
(       fore_gamma=gamma_perm*gamma_beta*gamma_rough;)'
(       if \(fore_Irb < 1.8\))'
(          fore_R2=fore_gamma*fore_H0*1.77*fore_Irb;)'
(       else)'
(          fore_R2=fore_gamma*fore_H0*\(4.3-\(1.6/sqrt\(fore_Irb\)\)\); )'
(       end)'
(       if berm_width >= L0)'
(          R2_new=fore_R2)'
(          disp \('berm is wider than one wavelength, use full shallow foreshore solution'\);)'
(       else)'
(          w2=\(berm_width-0.25*L0\)/\(0.75*L0\))'
(          w1=1-w2)'
(          R2_new=w2*fore_R2 + w1*R2_new)'
(       end)'
ET
endstream
endobj
530 0 obj
3515
endobj
531 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 532 0 R
>>
endobj
532 0 obj
<<
/Length 533 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(    end % end berm width check)'
(    % convergence criterion)'
(    R2del=abs\(R2-R2_new\))'
(    R2_all\(iter\)=R2_new;)'
(    % get the new top station \(for plot purposes\))'
(    Z2=R2_new+SWEL)'
(    top_sta=-999;)'
(    for kk=1:length\(sta\)-1)'
(       if \(\(Z2 > dep\(kk\)\) & \(Z2 <= dep\(kk+1\)\)\)    % here is the intersection of z2 with profile)'
(          top_sta=interp1\(dep\(kk:kk+1\),sta\(kk:kk+1\),Z2\))'
(          break;)'
(       end)'
(    end)'
(    if top_sta==-999)'
(       dy=Z2-dep\(end\);)'
(       top_sta=sta\(end\)+dy/S\(end\);)'
(    end)'
(    topStaAll\(iter\)=top_sta;)'
(end)'
(ans =)'
(!----------------- STARTING ITERATION 1 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          34.9443976794092)'
(Z2 =)'
(                 20.068423)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(                   22.6644)'
(Z2 =)'
(          31.9203345021268)'
(top_sta =)'
(          107.041046462901)'
(Lslope =)'
(          145.422391094205)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 1, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
ET
endstream
endobj
533 0 obj
2440
endobj
534 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 535 0 R
>>
endobj
535 0 obj
<<
/Length 536 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 1 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.116900842243663)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.977861924974634)'
(slope =)'
(         0.268771755517362)'
(Irb =)'
(           1.9976804779061)'
(gamma_berm =)'
(         0.977861924974634)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(          0.58671715498478)'
(ans =)'
(!!! - - Iribaren number:   1.95 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:3.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.0421356450413)'
(R2del =)'
(          8.62226435495869)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(ans =)'
(!----------------- STARTING ITERATION 2 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          46.9993332993712)'
(Z2 =)'
(          23.2980701471681)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.0421356450413)'
(Z2 =)'
(          23.2980701471681)'
(top_sta =)'
(          46.9993332993712)'
(Lslope =)'
(          85.3806779306758)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
ET
endstream
endobj
536 0 obj
2250
endobj
537 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 538 0 R
>>
endobj
538 0 obj
<<
/Length 539 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 2, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 2 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.199108280843155)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.962293906742863)'
(slope =)'
(         0.378674911258111)'
(Irb =)'
(          2.81454975146854)'
(gamma_berm =)'
(         0.962293906742863)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.577376344045718)'
(ans =)'
(!!! - - Iribaren number:   2.71 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.6 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(          14.5964003534129)'
(R2del =)'
(         0.554264708371569)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(ans =)'
(!----------------- STARTING ITERATION 3 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.8951497883595)'
(Z2 =)'
(          23.8523348555397)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
(          14.5964003534129)'
(Z2 =)'
(          23.8523348555397)'
(top_sta =)'
(          50.8951497883595)'
(Lslope =)'
(          89.2764944196642)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
ET
endstream
endobj
539 0 obj
2250
endobj
540 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 541 0 R
>>
endobj
541 0 obj
<<
/Length 542 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 3, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 3 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.190419663210427)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963939312073811)'
(slope =)'
(         0.365932410915933)'
(Irb =)'
(          2.71983948652912)'
(gamma_berm =)'
(         0.963939312073811)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578363587244287)'
(ans =)'
(!!! - - Iribaren number:   2.62 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.549424968147)'
(R2del =)'
(        0.0469753852659309)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(ans =)'
(!----------------- STARTING ITERATION 4 -----------------!)'
(Ztoe =)'
(                 -2.595977)'
(toe_sta =)'
(         -38.3813446313046)'
(top_sta =)'
(          50.5649673529656)'
(Z2 =)'
(          23.8053594702738)'
(H0 =)'
(                    7.5548)'
(Tp =)'
(                    9.9345)'
(T0 =)'
(          9.03136363636364)'
(R2 =)'
ET
endstream
endobj
542 0 obj
2279
endobj
543 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 544 0 R
>>
endobj
544 0 obj
<<
/Length 545 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(           14.549424968147)'
(Z2 =)'
(          23.8053594702738)'
(top_sta =)'
(          50.5649673529656)'
(Lslope =)'
(          88.9463119842703)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 9)'
(dh =)'
(          9.49194100212682)'
(rdh_sum =)'
(         0.695983762046982)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 10)'
(dh =)'
(          9.64669100212682)'
(rdh_sum =)'
(          1.40666398849417)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 11)'
(dh =)'
(          9.92260850212682)'
(rdh_sum =)'
(          2.14299703977601)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 12)'
(dh =)'
(          10.1985265021268)'
(rdh_sum =)'
(          2.90420535902459)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 13)'
(dh =)'
(          10.4744445021268)'
(rdh_sum =)'
(          3.68942949541434)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 14)'
(dh =)'
(          10.7503620021268)'
(rdh_sum =)'
(          4.49773093822128)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 15)'
(dh =)'
(          11.0262795021268)'
(rdh_sum =)'
(          5.32809529031497)'
(ans =)'
(Berm Factor Calculation: Iteration 4, Profile Segment: 16)'
(dh =)'
(          11.2205850021268)'
(rdh_sum =)'
(          13.7806281955883)'
(ans =)'
(!------- End Berm Factor Calculation, Iter: 4 ---------!)'
(berm_width =)'
(    17)'
(rB =)'
(         0.191126530383928)'
(rdh_mean =)'
(         0.810625187975784)'
(gamma_berm =)'
(         0.963805449235703)'
(slope =)'
(         0.366958857822288)'
(Irb =)'
(          2.72746868455436)'
(gamma_berm =)'
(         0.963805449235703)'
(gamma_perm =)'
(     1)'
(gamma_beta =)'
(     1)'
(gamma_rough =)'
(                       0.6)'
(gamma =)'
(         0.578283269541422)'
(ans =)'
(!!! - - Iribaren number:   2.63 is in the valid range \(0.5-10\), TAW RECOMMENDED - - !!!)'
(ans =)'
(!!! - - slope: 1:2.7 V:H is in the valid range \(1:8 - 1:1\), TAW RECOMMENDED - - !!!)'
(R2_new =)'
(           14.553336534471)'
(R2del =)'
(       0.00391156632409739)'
(Z2 =)'
(          23.8092710365979)'
(top_sta =)'
ET
endstream
endobj
545 0 obj
2316
endobj
546 0 obj
<<
/Type /Page
/Parent 3 0 R
/Resources 5 0 R
/Contents 547 0 R
>>
endobj
547 0 obj
<<
/Length 548 0 R
>>
stream
BT
/F1 8 Tf
1 0 0 1 50 752 Tm
8 TL
(          50.5924611241776)'
(% final 2% runup elevation)'
(Z2=R2_new+SWEL)'
(Z2 =)'
(          23.8092710365979)'
(diary off)'
(-1.000000e+00)'
(-1.000000e+00)'
()'
ET
endstream
endobj
548 0 obj
219
endobj
3 0 obj
<<
/Type /Pages
/Count 181
/MediaBox [ 0 0 612 792 ]
/Kids [ 6 0 R 9 0 R 12 0 R 15 0 R 18 0 R 21 0 R 24 0 R 27 0 R 30 0 R 33 0 R 36 0 R 39 0 R 42 0 R 45 0 R 48 0 R 51 0 R 54 0 R 57 0 R 60 0 R 63 0 R 66 0 R 69 0 R 72 0 R 75 0 R 78 0 R 81 0 R 84 0 R 87 0 R 90 0 R 93 0 R 96 0 R 99 0 R 102 0 R 105 0 R 108 0 R 111 0 R 114 0 R 117 0 R 120 0 R 123 0 R 126 0 R 129 0 R 132 0 R 135 0 R 138 0 R 141 0 R 144 0 R 147 0 R 150 0 R 153 0 R 156 0 R 159 0 R 162 0 R 165 0 R 168 0 R 171 0 R 174 0 R 177 0 R 180 0 R 183 0 R 186 0 R 189 0 R 192 0 R 195 0 R 198 0 R 201 0 R 204 0 R 207 0 R 210 0 R 213 0 R 216 0 R 219 0 R 222 0 R 225 0 R 228 0 R 231 0 R 234 0 R 237 0 R 240 0 R 243 0 R 246 0 R 249 0 R 252 0 R 255 0 R 258 0 R 261 0 R 264 0 R 267 0 R 270 0 R 273 0 R 276 0 R 279 0 R 282 0 R 285 0 R 288 0 R 291 0 R 294 0 R 297 0 R 300 0 R 303 0 R 306 0 R 309 0 R 312 0 R 315 0 R 318 0 R 321 0 R 324 0 R 327 0 R 330 0 R 333 0 R 336 0 R 339 0 R 342 0 R 345 0 R 348 0 R 351 0 R 354 0 R 357 0 R 360 0 R 363 0 R 366 0 R 369 0 R 372 0 R 375 0 R 378 0 R 381 0 R 384 0 R 387 0 R 390 0 R 393 0 R 396 0 R 399 0 R 402 0 R 405 0 R 408 0 R 411 0 R 414 0 R 417 0 R 420 0 R 423 0 R 426 0 R 429 0 R 432 0 R 435 0 R 438 0 R 441 0 R 444 0 R 447 0 R 450 0 R 453 0 R 456 0 R 459 0 R 462 0 R 465 0 R 468 0 R 471 0 R 474 0 R 477 0 R 480 0 R 483 0 R 486 0 R 489 0 R 492 0 R 495 0 R 498 0 R 501 0 R 504 0 R 507 0 R 510 0 R 513 0 R 516 0 R 519 0 R 522 0 R 525 0 R 528 0 R 531 0 R 534 0 R 537 0 R 540 0 R 543 0 R 546 0 R ]
>>
endobj
xref
0 549
0000000000 65535 f 0000000010 00000 n 0000000167 00000 n 0000504470 00000 n 0000000222 00000 n 0000000308 00000 n 0000000385 00000 n 0000000473 00000 n 0000003454 00000 n 0000003477 00000 n 0000003566 00000 n 0000005957 00000 n 0000005981 00000 n 0000006071 00000 n 0000008613 00000 n 0000008637 00000 n 0000008727 00000 n 0000012290 00000 n 0000012314 00000 n 0000012404 00000 n 0000015419 00000 n 0000015443 00000 n 0000015533 00000 n 0000017920 00000 n 0000017944 00000 n 0000018034 00000 n 0000020320 00000 n 0000020344 00000 n 0000020434 00000 n 0000022789 00000 n 0000022813 00000 n 0000022903 00000 n 0000024966 00000 n 0000024990 00000 n 0000025080 00000 n 0000027432 00000 n 0000027456 00000 n 0000027546 00000 n 0000029852 00000 n 0000029876 00000 n 0000029966 00000 n 0000032311 00000 n 0000032335 00000 n 0000032425 00000 n 0000035676 00000 n 0000035700 00000 n 0000035790 00000 n 0000039596 00000 n 0000039620 00000 n 0000039710 00000 n 0000042649 00000 n 0000042673 00000 n 0000042763 00000 n 0000046310 00000 n 0000046334 00000 n 0000046424 00000 n 0000048942 00000 n 0000048966 00000 n 0000049056 00000 n 0000051373 00000 n 0000051397 00000 n 0000051487 00000 n 0000053778 00000 n 0000053802 00000 n 0000053892 00000 n 0000056574 00000 n 0000056598 00000 n 0000056688 00000 n 0000060265 00000 n 0000060289 00000 n 0000060379 00000 n 0000063520 00000 n 0000063544 00000 n 0000063634 00000 n 0000067227 00000 n 0000067251 00000 n 0000067341 00000 n 0000070419 00000 n 0000070443 00000 n 0000070533 00000 n 0000072890 00000 n 0000072914 00000 n 0000073004 00000 n 0000075349 00000 n 0000075373 00000 n 0000075463 00000 n 0000077759 00000 n 0000077783 00000 n 0000077873 00000 n 0000081191 00000 n 0000081215 00000 n 0000081305 00000 n 0000085066 00000 n 0000085090 00000 n 0000085180 00000 n 0000088235 00000 n 0000088259 00000 n 0000088349 00000 n 0000091826 00000 n 0000091850 00000 n 0000091941 00000 n 0000094434 00000 n 0000094459 00000 n 0000094551 00000 n 0000096857 00000 n 0000096882 00000 n 0000096974 00000 n 0000099287 00000 n 0000099312 00000 n 0000099404 00000 n 0000101719 00000 n 0000101744 00000 n 0000101836 00000 n 0000104220 00000 n 0000104245 00000 n 0000104337 00000 n 0000108084 00000 n 0000108109 00000 n 0000108201 00000 n 0000111365 00000 n 0000111390 00000 n 0000111482 00000 n 0000114767 00000 n 0000114792 00000 n 0000114884 00000 n 0000118455 00000 n 0000118480 00000 n 0000118572 00000 n 0000120939 00000 n 0000120964 00000 n 0000121056 00000 n 0000123356 00000 n 0000123381 00000 n 0000123473 00000 n 0000125822 00000 n 0000125847 00000 n 0000125939 00000 n 0000128252 00000 n 0000128277 00000 n 0000128369 00000 n 0000130634 00000 n 0000130659 00000 n 0000130751 00000 n 0000132938 00000 n 0000132963 00000 n 0000133055 00000 n 0000135368 00000 n 0000135393 00000 n 0000135485 00000 n 0000137798 00000 n 0000137823 00000 n 0000137915 00000 n 0000140294 00000 n 0000140319 00000 n 0000140411 00000 n 0000142782 00000 n 0000142807 00000 n 0000142899 00000 n 0000144931 00000 n 0000144956 00000 n 0000145048 00000 n 0000147390 00000 n 0000147415 00000 n 0000147507 00000 n 0000149886 00000 n 0000149911 00000 n 0000150003 00000 n 0000152311 00000 n 0000152336 00000 n 0000152428 00000 n 0000154799 00000 n 0000154824 00000 n 0000154916 00000 n 0000158177 00000 n 0000158202 00000 n 0000158294 00000 n 0000162111 00000 n 0000162136 00000 n 0000162228 00000 n 0000165119 00000 n 0000165144 00000 n 0000165236 00000 n 0000168759 00000 n 0000168784 00000 n 0000168876 00000 n 0000171483 00000 n 0000171508 00000 n 0000171600 00000 n 0000173913 00000 n 0000173938 00000 n 0000174030 00000 n 0000176343 00000 n 0000176368 00000 n 0000176460 00000 n 0000178844 00000 n 0000178869 00000 n 0000178961 00000 n 0000181269 00000 n 0000181294 00000 n 0000181386 00000 n 0000183459 00000 n 0000183484 00000 n 0000183576 00000 n 0000185955 00000 n 0000185980 00000 n 0000186072 00000 n 0000188443 00000 n 0000188468 00000 n 0000188560 00000 n 0000190859 00000 n 0000190884 00000 n 0000190976 00000 n 0000193327 00000 n 0000193352 00000 n 0000193444 00000 n 0000195587 00000 n 0000195612 00000 n 0000195704 00000 n 0000197986 00000 n 0000198011 00000 n 0000198103 00000 n 0000200477 00000 n 0000200502 00000 n 0000200594 00000 n 0000202907 00000 n 0000202932 00000 n 0000203024 00000 n 0000205337 00000 n 0000205362 00000 n 0000205454 00000 n 0000208153 00000 n 0000208178 00000 n 0000208270 00000 n 0000211857 00000 n 0000211882 00000 n 0000211974 00000 n 0000215117 00000 n 0000215142 00000 n 0000215234 00000 n 0000218829 00000 n 0000218854 00000 n 0000218946 00000 n 0000222026 00000 n 0000222051 00000 n 0000222143 00000 n 0000224527 00000 n 0000224552 00000 n 0000224644 00000 n 0000226951 00000 n 0000226976 00000 n 0000227068 00000 n 0000229420 00000 n 0000229445 00000 n 0000229537 00000 n 0000231894 00000 n 0000231919 00000 n 0000232011 00000 n 0000235190 00000 n 0000235215 00000 n 0000235307 00000 n 0000238684 00000 n 0000238709 00000 n 0000238801 00000 n 0000241865 00000 n 0000241890 00000 n 0000241982 00000 n 0000245640 00000 n 0000245665 00000 n 0000245757 00000 n 0000248539 00000 n 0000248564 00000 n 0000248656 00000 n 0000250969 00000 n 0000250994 00000 n 0000251086 00000 n 0000253433 00000 n 0000253458 00000 n 0000253550 00000 n 0000255924 00000 n 0000255949 00000 n 0000256041 00000 n 0000258346 00000 n 0000258371 00000 n 0000258463 00000 n 0000260544 00000 n 0000260569 00000 n 0000260661 00000 n 0000263040 00000 n 0000263065 00000 n 0000263157 00000 n 0000265465 00000 n 0000265490 00000 n 0000265582 00000 n 0000267953 00000 n 0000267978 00000 n 0000268070 00000 n 0000270383 00000 n 0000270408 00000 n 0000270500 00000 n 0000273547 00000 n 0000273572 00000 n 0000273664 00000 n 0000277061 00000 n 0000277086 00000 n 0000277178 00000 n 0000280331 00000 n 0000280356 00000 n 0000280448 00000 n 0000284126 00000 n 0000284151 00000 n 0000284243 00000 n 0000287067 00000 n 0000287092 00000 n 0000287184 00000 n 0000289497 00000 n 0000289522 00000 n 0000289614 00000 n 0000291998 00000 n 0000292023 00000 n 0000292115 00000 n 0000294423 00000 n 0000294448 00000 n 0000294540 00000 n 0000296899 00000 n 0000296924 00000 n 0000297016 00000 n 0000299109 00000 n 0000299134 00000 n 0000299226 00000 n 0000301597 00000 n 0000301622 00000 n 0000301714 00000 n 0000304013 00000 n 0000304038 00000 n 0000304130 00000 n 0000306481 00000 n 0000306506 00000 n 0000306598 00000 n 0000308911 00000 n 0000308936 00000 n 0000309028 00000 n 0000311879 00000 n 0000311904 00000 n 0000311996 00000 n 0000315416 00000 n 0000315441 00000 n 0000315533 00000 n 0000318793 00000 n 0000318818 00000 n 0000318910 00000 n 0000322493 00000 n 0000322518 00000 n 0000322610 00000 n 0000325595 00000 n 0000325620 00000 n 0000325712 00000 n 0000328027 00000 n 0000328052 00000 n 0000328144 00000 n 0000330553 00000 n 0000330578 00000 n 0000330670 00000 n 0000332920 00000 n 0000332945 00000 n 0000333037 00000 n 0000335470 00000 n 0000335495 00000 n 0000335587 00000 n 0000337669 00000 n 0000337694 00000 n 0000337786 00000 n 0000340034 00000 n 0000340059 00000 n 0000340151 00000 n 0000342561 00000 n 0000342586 00000 n 0000342678 00000 n 0000345009 00000 n 0000345034 00000 n 0000345126 00000 n 0000347439 00000 n 0000347464 00000 n 0000347556 00000 n 0000350359 00000 n 0000350384 00000 n 0000350476 00000 n 0000353987 00000 n 0000354012 00000 n 0000354104 00000 n 0000357310 00000 n 0000357335 00000 n 0000357427 00000 n 0000360927 00000 n 0000360952 00000 n 0000361044 00000 n 0000364123 00000 n 0000364148 00000 n 0000364240 00000 n 0000366587 00000 n 0000366612 00000 n 0000366704 00000 n 0000369078 00000 n 0000369103 00000 n 0000369195 00000 n 0000371500 00000 n 0000371525 00000 n 0000371617 00000 n 0000373991 00000 n 0000374016 00000 n 0000374108 00000 n 0000376214 00000 n 0000376239 00000 n 0000376331 00000 n 0000378619 00000 n 0000378644 00000 n 0000378736 00000 n 0000381107 00000 n 0000381132 00000 n 0000381224 00000 n 0000383537 00000 n 0000383562 00000 n 0000383654 00000 n 0000385967 00000 n 0000385992 00000 n 0000386084 00000 n 0000388409 00000 n 0000388434 00000 n 0000388526 00000 n 0000390687 00000 n 0000390712 00000 n 0000390804 00000 n 0000393117 00000 n 0000393142 00000 n 0000393234 00000 n 0000395549 00000 n 0000395574 00000 n 0000395666 00000 n 0000398075 00000 n 0000398100 00000 n 0000398192 00000 n 0000400442 00000 n 0000400467 00000 n 0000400559 00000 n 0000404233 00000 n 0000404258 00000 n 0000404350 00000 n 0000407687 00000 n 0000407712 00000 n 0000407804 00000 n 0000411037 00000 n 0000411062 00000 n 0000411154 00000 n 0000414748 00000 n 0000414773 00000 n 0000414865 00000 n 0000417175 00000 n 0000417200 00000 n 0000417292 00000 n 0000419674 00000 n 0000419699 00000 n 0000419791 00000 n 0000422104 00000 n 0000422129 00000 n 0000422221 00000 n 0000424534 00000 n 0000424559 00000 n 0000424651 00000 n 0000427129 00000 n 0000427154 00000 n 0000427246 00000 n 0000430974 00000 n 0000430999 00000 n 0000431091 00000 n 0000434295 00000 n 0000434320 00000 n 0000434412 00000 n 0000437805 00000 n 0000437830 00000 n 0000437922 00000 n 0000441181 00000 n 0000441206 00000 n 0000441298 00000 n 0000443707 00000 n 0000443732 00000 n 0000443824 00000 n 0000446074 00000 n 0000446099 00000 n 0000446191 00000 n 0000448624 00000 n 0000448649 00000 n 0000448741 00000 n 0000451047 00000 n 0000451072 00000 n 0000451164 00000 n 0000454230 00000 n 0000454255 00000 n 0000454347 00000 n 0000457744 00000 n 0000457769 00000 n 0000457861 00000 n 0000461028 00000 n 0000461053 00000 n 0000461145 00000 n 0000464781 00000 n 0000464806 00000 n 0000464898 00000 n 0000467714 00000 n 0000467739 00000 n 0000467831 00000 n 0000470144 00000 n 0000470169 00000 n 0000470261 00000 n 0000472645 00000 n 0000472670 00000 n 0000472762 00000 n 0000475129 00000 n 0000475154 00000 n 0000475246 00000 n 0000477546 00000 n 0000477571 00000 n 0000477663 00000 n 0000480950 00000 n 0000480975 00000 n 0000481067 00000 n 0000484896 00000 n 0000484921 00000 n 0000485013 00000 n 0000487917 00000 n 0000487942 00000 n 0000488034 00000 n 0000491612 00000 n 0000491637 00000 n 0000491729 00000 n 0000494232 00000 n 0000494257 00000 n 0000494349 00000 n 0000496662 00000 n 0000496687 00000 n 0000496779 00000 n 0000499092 00000 n 0000499117 00000 n 0000499209 00000 n 0000501551 00000 n 0000501576 00000 n 0000501668 00000 n 0000504047 00000 n 0000504072 00000 n 0000504164 00000 n 0000504446 00000 n trailer
<<
/Size 549
/Root 2 0 R
/Info 1 0 R
>>
startxref
505973
%%EOF
